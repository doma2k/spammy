MIME-Version: 1.0
Date: Thu, 28 Sep 2023 23:21:26 +0400
References: <CAK5+0FSnKt=rpy3LkydVAUb8xmP50SQ3ayyQ6WDnB-Pa6CVojA@mail.gmail.com>
	<CAGYWHoafXCSY0gB_jEmwf_5qgvg6xFTaLoVE9Wv5Ky=MaGc0eA@mail.gmail.com>
	<CAK5+0FTmr2JC6EEBVcZ3kyY6o203=tvLo+HpNGz-an+JrfiZUQ@mail.gmail.com>
	<CAK5+0FRUmuHtew9FNVm4AkHF6fUgQoNxa0_qnfKmzmZBiahMHg@mail.gmail.com>
In-Reply-To: <CAK5+0FRUmuHtew9FNVm4AkHF6fUgQoNxa0_qnfKmzmZBiahMHg@mail.gmail.com>
Message-ID: <CAK5+0FQfsjCE+8XnHRmthd4bHmTzZBF4v-PBJUdvANKKYBvPng@mail.gmail.com>
Subject: Re: IBC: banana king
From: Jacob Gadikian <jacob@notional.ventures>
To: Moshe Mizrahi <mo@amulet.dev>, Sheldon Dearr <sdearr1990@gmail.com>, 
	Khanh Nguyen <khanh@notional.ventures>, Sam LitBit <sam@notional.ventures>, 
	Alex Sutaru <alex@notional.ventures>, syed@interchain.io, security@interchain.io, 
	jehan@informal.systems, Jessy Irwin <jessy@amulet.dev>, 
	"adi@informal.systems" <adi@informal.systems>
Content-Type: multipart/alternative; boundary="000000000000cb9d0d060670369f"

--000000000000cb9d0d060670369f
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Greetings to Amulet from 35,000 feet above the Earth,


https://github.com/cometbft/cometbft/security/advisories/GHSA-hq58-p9mv-338=
c

This isn't even the actual problem.

I figured that this was going to happen and it's absolutely because you
didn't join slack and you didn't talk to us.

You are aware that The Cosmos hub replicated security testnet is still
degraded right?

I mean you must be because I told you that but I don't see any notice here
whatsoever of continued degraded performance.

Do we need 50 kilobyte IBC memo fields?

You're aware that's how I ran the attack right?

Or did amulet just read emails, instead of actually looking at the
repository that I spent over a week preparing?

My team has spent some time going through your scoping did we do not
believe that the scoping of issues promoted by amulet promotes security in
cosmos because it is not grounded in reality. Being able to trigger a P2P
storm involves exploiting multiple layers in the stack.

And trigger it, we did.

Since the beginning of reporting, our team has pleaded with Amulet to treat
this differently from a bug in the ignite faucet.

We have invited you to calls countless times.

We told you that you were getting it wrong.

We have overwhelming evidence that you got it wrong and overwhelming
evidence that we told you that was the case.

I will be at cosmo-verse as will our chief security officer. We are willing
to meet with you.

We are more than happy to walk you through the full depths of this attack,
which violate constraints at numerous layers of the cosmos stack.

If this is refused, and you continue to ignore the reality that security on
the hub is something that notional handles, and continue to be non
communicative, I assure you that we will do our job anyway.

Regards,
Jacob









On Thu, Sep 28, 2023, 4:02 PM Jacob Gadikian <jacob@notional.ventures>
wrote:

> I figured out one thing that I can share with you immediately
>
>
> https://twitter.com/web3_analyst/status/1635687287962112000?t=3DQMvbMKsc6=
iEyi8jKdrQAjg&s=3D19
>
> You tell me, is the linked IBC transaction valid?
>
> I coordinate with the core teams in slack.
>
>
>
> On Thu, Sep 28, 2023, 7:00 PM Jacob Gadikian <jacob@notional.ventures>
> wrote:
>
>> I can add these core teams to the GitHub, you know.
>>
>> You can also just instruct them to synchronize the blockchain as I
>> mentioned above. At this moment I'm about to take off and maybe I can do
>> that during my flight but sir, surely email is not the best way to do th=
is?
>>
>> If you really must have email, you are on the repository in question, an=
d
>> I would suggest that you review the readme file, as it contains the
>> evidence of that.
>>
>> I know you have heard this a number of times, but I really do not think
>> that these emails have provided value or given you the needed context.
>>
>> I don't honestly think that you understand the issue here, and I honestl=
y
>> think that comms are the issue.
>>
>> Will your team be at cosmoverse?
>>
>> On Thu, Sep 28, 2023, 11:43 AM Moshe Mizrahi <mo@amulet.dev> wrote:
>>
>>> Hey Jacob,
>>>
>>> Can you please share the additional context you referred to below (code=
,
>>> patches, scenarios, etc) with me over email? It would help us ensure a
>>> comprehensive resolution with the core teams.
>>>
>>> Thanks,
>>> Mo
>>>
>>> On Wed, Sep 27, 2023 at 6:37=E2=80=AFPM Jacob Gadikian <jacob@notional.=
ventures>
>>> wrote:
>>>
>>>> In previous messages, you have mentioned that you're talking with the
>>>> comet team.
>>>>
>>>> IBC needs field length limit validation.
>>>>
>>>> We have discussed this since the time of banana king, in one of those
>>>> slack channels that you've been invited to.
>>>>
>>>> If we're fixing P2P floods lets also trim the banana.
>>>>
>>>> By the way we have written a fix for this twice. It was rejected. If
>>>> you were in the slack channel, you'd know that maxtxbytes doesn't work=
.
>>>>
>>>> Regards
>>>> -Jacob
>>>>
>>>>
>>>> --
>>>> You received this message because you are subscribed to the Google
>>>> Groups "security" group.
>>>> To unsubscribe from this group and stop receiving emails from it, send
>>>> an email to security+unsubscribe@interchain.io.
>>>>
>>>

--000000000000cb9d0d060670369f
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<div dir=3D"auto">Greetings to Amulet from 35,000 feet above the Earth,<div=
 dir=3D"auto"><br></div><div dir=3D"auto">=C2=A0<a href=3D"https://github.c=
om/cometbft/cometbft/security/advisories/GHSA-hq58-p9mv-338c" rel=3D"norefe=
rrer noreferrer" target=3D"_blank">https://github.com/cometbft/cometbft/sec=
urity/advisories/GHSA-hq58-p9mv-338c</a><br></div><div dir=3D"auto"><br></d=
iv><div dir=3D"auto">This isn&#39;t even the actual problem.</div><div dir=
=3D"auto"><br></div><div dir=3D"auto">I figured that this was going to happ=
en and it&#39;s absolutely because you didn&#39;t join slack and you didn&#=
39;t talk to us.=C2=A0</div><div dir=3D"auto"><br></div><div dir=3D"auto">Y=
ou are aware that The Cosmos hub replicated security testnet is still degra=
ded right?</div><div dir=3D"auto"><br></div><div dir=3D"auto">I mean you mu=
st be because I told you that but I don&#39;t see any notice here whatsoeve=
r of continued degraded performance.=C2=A0=C2=A0</div><div dir=3D"auto"><br=
></div><div dir=3D"auto">Do we need 50 kilobyte IBC memo fields?</div><div =
dir=3D"auto"><br></div><div dir=3D"auto">You&#39;re aware that&#39;s how I =
ran the attack right?</div><div dir=3D"auto"><br></div><div dir=3D"auto">Or=
 did amulet just read emails, instead of actually looking at the repository=
 that I spent over a week preparing?</div><div dir=3D"auto"><br></div><div =
dir=3D"auto">My team has spent some time going through your scoping did we =
do not believe that the scoping of issues promoted by amulet promotes secur=
ity in cosmos because it is not grounded in reality. Being able to trigger =
a P2P storm involves exploiting multiple layers in the stack.</div><div dir=
=3D"auto"><br></div><div dir=3D"auto">And trigger it, we did.</div><div dir=
=3D"auto"><br></div><div dir=3D"auto">Since the beginning of reporting, our=
 team has pleaded with Amulet to treat this differently from a bug in the i=
gnite faucet.</div><div dir=3D"auto"><br></div><div dir=3D"auto">We have in=
vited you to calls countless times.</div><div dir=3D"auto"><br></div><div d=
ir=3D"auto">We told you that you were getting it wrong.</div><div dir=3D"au=
to"><br></div><div dir=3D"auto">We have overwhelming evidence that you got =
it wrong and overwhelming evidence that we told you that was the case.</div=
><div dir=3D"auto"><br></div><div dir=3D"auto">I will be at cosmo-verse as =
will our chief security officer. We are willing to meet with you.</div><div=
 dir=3D"auto"><br></div><div dir=3D"auto">We are more than happy to walk yo=
u through the full depths of this attack, which violate constraints at nume=
rous layers of the cosmos stack.</div><div dir=3D"auto"><br></div><div dir=
=3D"auto">If this is refused, and you continue to ignore the reality that s=
ecurity on the hub is something that notional handles, and continue to be n=
on communicative, I assure you that we will do our job anyway.</div><div di=
r=3D"auto"><br></div><div dir=3D"auto">Regards,</div><div dir=3D"auto">Jaco=
b</div><div dir=3D"auto"><br></div><div dir=3D"auto"><br></div><div dir=3D"=
auto"><br></div><div dir=3D"auto"><br></div><div dir=3D"auto"><br></div><di=
v dir=3D"auto"><br></div><div dir=3D"auto"><br></div><div dir=3D"auto"><br>=
</div></div><br><div class=3D"gmail_quote"><div dir=3D"ltr" class=3D"gmail_=
attr">On Thu, Sep 28, 2023, 4:02 PM Jacob Gadikian &lt;jacob@notional.ventu=
res&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0=
 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"auto">I =
figured out one thing that I can share with you immediately<div dir=3D"auto=
"><br></div><div dir=3D"auto"><a href=3D"https://twitter.com/web3_analyst/s=
tatus/1635687287962112000?t=3DQMvbMKsc6iEyi8jKdrQAjg&amp;s=3D19" rel=3D"nor=
eferrer noreferrer noreferrer" target=3D"_blank">https://twitter.com/web3_a=
nalyst/status/1635687287962112000?t=3DQMvbMKsc6iEyi8jKdrQAjg&amp;s=3D19</a>=
<br></div><div dir=3D"auto"><br></div><div dir=3D"auto">You tell me, is the=
 linked IBC transaction valid?</div><div dir=3D"auto"><br></div><div dir=3D=
"auto">I coordinate with the core teams in slack.</div><div dir=3D"auto"><b=
r></div><div dir=3D"auto"><br></div></div><br><div class=3D"gmail_quote"><d=
iv dir=3D"ltr" class=3D"gmail_attr">On Thu, Sep 28, 2023, 7:00 PM Jacob Gad=
ikian &lt;jacob@notional.ventures&gt; wrote:<br></div><blockquote class=3D"=
gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-=
left:1ex"><div dir=3D"auto">I can add these core teams to the GitHub, you k=
now.=C2=A0<div dir=3D"auto"><br></div><div dir=3D"auto">You can also just i=
nstruct them to synchronize the blockchain as I mentioned above. At this mo=
ment I&#39;m about to take off and maybe I can do that during my flight but=
 sir, surely email is not the best way to do this?</div><div dir=3D"auto"><=
br></div><div dir=3D"auto">If you really must have email, you are on the re=
pository in question, and I would suggest that you review the readme file, =
as it contains the evidence of that.=C2=A0</div><div dir=3D"auto"><br></div=
><div dir=3D"auto">I know you have heard this a number of times, but I real=
ly do not think that these emails have provided value or given you the need=
ed context.</div><div dir=3D"auto"><br></div><div dir=3D"auto">I don&#39;t =
honestly think that you understand the issue here, and I honestly think tha=
t comms are the issue.</div><div dir=3D"auto"><br></div><div dir=3D"auto">W=
ill your team be at cosmoverse?</div></div><br><div class=3D"gmail_quote"><=
div dir=3D"ltr" class=3D"gmail_attr">On Thu, Sep 28, 2023, 11:43 AM Moshe M=
izrahi &lt;<a href=3D"mailto:mo@amulet.dev" rel=3D"noreferrer noreferrer no=
referrer noreferrer noreferrer" target=3D"_blank">mo@amulet.dev</a>&gt; wro=
te:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><div dir=3D"auto">Hey Jacob,</d=
iv><div dir=3D"auto"><br></div><div dir=3D"auto">Can you please share the a=
dditional context you referred to below (code, patches, scenarios, etc) wit=
h me over email? It would help us ensure a comprehensive resolution with th=
e core teams.=C2=A0</div><div dir=3D"auto"><br></div><div dir=3D"auto">Than=
ks,</div><div dir=3D"auto">Mo</div><div><br><div class=3D"gmail_quote"><div=
 dir=3D"ltr" class=3D"gmail_attr">On Wed, Sep 27, 2023 at 6:37=E2=80=AFPM J=
acob Gadikian &lt;jacob@notional.ventures&gt; wrote:<br></div><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex"><div dir=3D"auto">In previous messages, you have mentione=
d that you&#39;re talking with the comet team.<div dir=3D"auto"><br></div><=
div dir=3D"auto">IBC needs field length limit validation.</div><div dir=3D"=
auto"><br></div><div dir=3D"auto">We have discussed this since the time of =
banana king, in one of those slack channels that you&#39;ve been invited to=
.</div><div dir=3D"auto"><br></div><div dir=3D"auto">If we&#39;re fixing P2=
P floods lets also trim the banana.</div><div dir=3D"auto"><br></div><div d=
ir=3D"auto">By the way we have written a fix for this twice. It was rejecte=
d. If you were in the slack channel, you&#39;d know that maxtxbytes doesn&#=
39;t work.=C2=A0</div><div dir=3D"auto"><br></div><div dir=3D"auto">Regards=
</div></div><div dir=3D"auto"><div dir=3D"auto">-Jacob</div><div dir=3D"aut=
o"><br></div><div dir=3D"auto"><br></div></div>

<p></p>

-- <br>
You received this message because you are subscribed to the Google Groups &=
quot;security&quot; group.<br>
To unsubscribe from this group and stop receiving emails from it, send an e=
mail to <a href=3D"mailto:security+unsubscribe@interchain.io" rel=3D"norefe=
rrer noreferrer noreferrer noreferrer noreferrer noreferrer" target=3D"_bla=
nk">security+unsubscribe@interchain.io</a>.<br>
</blockquote></div></div>
</blockquote></div>
</blockquote></div>
</blockquote></div>

--000000000000cb9d0d060670369f--